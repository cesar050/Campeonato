<div class="notificaciones-container">
    <!-- HEADER -->
    <div class="page-header">
      <div class="header-content">
        <h1 class="page-title">
          <span class="material-symbols-outlined">notifications</span>
          Notificaciones
        </h1>
        <p class="page-subtitle">Mantente al tanto de tus equipos y campeonatos</p>
      </div>
      <div class="header-actions" *ngIf="notificaciones().length > 0">
        <button class="btn-secondary" (click)="marcarTodasLeidas()" [disabled]="noLeidas() === 0">
          <span class="material-symbols-outlined">done_all</span>
          Marcar todas como leídas
        </button>
      </div>
    </div>
  
    <!-- FILTROS -->
    <div class="filtros-container">
      <button 
        class="filtro-btn" 
        [class.active]="filtroActivo() === 'todas'"
        (click)="cambiarFiltro('todas')">
        <span class="material-symbols-outlined">apps</span>
        Todas ({{ notificaciones().length }})
      </button>
      <button 
        class="filtro-btn" 
        [class.active]="filtroActivo() === 'no_leidas'"
        (click)="cambiarFiltro('no_leidas')">
        <span class="material-symbols-outlined">mark_email_unread</span>
        No leídas ({{ noLeidas() }})
      </button>
    </div>
  
    <!-- LOADING -->
    <div *ngIf="loading()" class="loading-state">
      <div class="spinner"></div>
      <p>Cargando notificaciones...</p>
    </div>
  
    <!-- LISTA DE NOTIFICACIONES -->
    <div *ngIf="!loading() && notificaciones().length > 0" class="notificaciones-list">
      <div 
        *ngFor="let notificacion of notificaciones()" 
        class="notificacion-card"
        [class.no-leida]="!notificacion.leida"
        [class]="getColor(notificacion.tipo)"
        (click)="irADestino(notificacion)">
        
        <!-- ICONO -->
        <div class="notificacion-icono" [class]="getColor(notificacion.tipo)">
          <span class="material-symbols-outlined">{{ getIcono(notificacion.tipo) }}</span>
        </div>
  
        <!-- CONTENIDO -->
        <div class="notificacion-contenido">
          <h3 class="notificacion-titulo">{{ notificacion.titulo }}</h3>
          <p class="notificacion-mensaje">{{ notificacion.mensaje }}</p>
          <span class="notificacion-fecha">{{ formatearFecha(notificacion.fecha) }}</span>
        </div>
  
        <!-- BADGE NO LEÍDA -->
        <div class="notificacion-badge" *ngIf="!notificacion.leida">
          <span class="badge-dot"></span>
        </div>
  
        <!-- ACCIONES -->
        <div class="notificacion-acciones" (click)="$event.stopPropagation()">
          <button 
            class="btn-accion" 
            (click)="marcarComoLeida(notificacion)"
            *ngIf="!notificacion.leida"
            title="Marcar como leída">
            <span class="material-symbols-outlined">done</span>
          </button>
          <button 
            class="btn-accion danger" 
            (click)="eliminarNotificacion(notificacion)"
            title="Eliminar">
            <span class="material-symbols-outlined">delete</span>
          </button>
        </div>
      </div>
    </div>
  
    <!-- EMPTY STATE -->
    <div *ngIf="!loading() && notificaciones().length === 0" class="empty-state">
      <div class="empty-icon">
        <span class="material-symbols-outlined">notifications_off</span>
      </div>
      <h2>No tienes notificaciones</h2>
      <p *ngIf="filtroActivo() === 'todas'">Cuando haya novedades, aparecerán aquí</p>
      <p *ngIf="filtroActivo() === 'no_leidas'">Todas tus notificaciones están leídas</p>
    </div>
  </div>